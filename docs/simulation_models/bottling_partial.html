

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>bottling_partial &mdash; Benchmark for Diagnosis, Reconfiguration &amp; Planning 1.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="process_plant" href="process_plant.html" />
    <link rel="prev" title="still_partial" href="still_partial.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Benchmark for Diagnosis, Reconfiguration & Planning
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Topics:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../general/berfipl_intro.html">BeRfiPl - Benchmark for Diagnosis, Reconfiguration &amp; Planning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/first_steps.html">First steps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/quickrun.html">Running simulations</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="simulation_models_overview.html">Simulation models</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="source.html">source</a></li>
<li class="toctree-l2"><a class="reference internal" href="sink.html">sink</a></li>
<li class="toctree-l2"><a class="reference internal" href="mixer_partial.html">mixer_partial</a></li>
<li class="toctree-l2"><a class="reference internal" href="filter_partial.html">filter_partial</a></li>
<li class="toctree-l2"><a class="reference internal" href="still_partial.html">still_partial</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">bottling_partial</a></li>
<li class="toctree-l2"><a class="reference internal" href="process_plant.html">process_plant</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="simulation_superModels_overview.html">Simulation superModels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python_scripts/python_scripts_overview.html">Python API</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Benchmark for Diagnosis, Reconfiguration & Planning</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="simulation_models_overview.html">Simulation models</a> &raquo;</li>
        
      <li>bottling_partial</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/simulation_models/bottling_partial.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="bottling-partial">
<h1>bottling_partial<a class="headerlink" href="#bottling-partial" title="Permalink to this headline">¶</a></h1>
<p>The bottling module, saves fluid in an input tank, pumps it to a reservoir tank, and bottles it into virtual bottles.
The bottling is time-dependent. Changes in the volume flow, can interfere with the bottled amount.</p>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>There is one input and one output to the bottling module.
The input connects to a discrete valve, which is controlled by a state-graph.
Depending on the state of the system the valve opens sequentially and fills the input tank.</p>
<p>The input tank is connected via a pipe - discrete valve combination to a pump.
The pump connects to a reservoir tank.</p>
<p>From the reservoir tank fluid is filled into virtual bottles.
The bottling is controlled via a time-function.</p>
<a class="reference internal image-reference" href="simulation_models/images/bottling_module.png"><img alt="bottling module" src="simulation_models/images/bottling_module.png" style="width: 500px;" /></a>
<p><strong>Bottling module in diagram view</strong></p>
</section>
<section id="functionality">
<h2>Functionality<a class="headerlink" href="#functionality" title="Permalink to this headline">¶</a></h2>
<p>The modules buffers liquid and bottles it into virtual bottles.</p>
<p>A state graph sequentially waits for the input tank to be filled, before closing the input valves.
The purge valves of the input tank and the pump are subsequently activated and the fluids are pumped into the reservoir tank.
From the reservoir tank, virtual bottles are filled via a time-dependent square function.</p>
<p>The opening times and levels can be changed in the state graph, by changing the float <code class="docutils literal notranslate"><span class="pre">maxVolPercentage</span></code> or <code class="docutils literal notranslate"><span class="pre">minVolPercentage</span></code> in the conditions.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span> <span class="n">valveDiscrete_port_in</span><span class="o">.</span><span class="n">open</span> <span class="o">=</span> <span class="k">if</span> <span class="n">time</span> <span class="o">&lt;</span> <span class="mi">2</span> <span class="n">then</span> <span class="n">true</span> <span class="n">elseif</span> <span class="n">B401_filling</span><span class="o">.</span><span class="n">active</span> <span class="n">then</span> <span class="n">true</span> <span class="k">else</span> <span class="n">false</span><span class="p">;</span>
<span class="linenos">2</span> <span class="n">valveDiscrete_V404</span><span class="o">.</span><span class="n">open</span> <span class="o">=</span> <span class="k">if</span> <span class="n">time</span> <span class="o">&lt;</span> <span class="mi">2</span> <span class="n">then</span> <span class="n">true</span> <span class="n">elseif</span> <span class="n">B402_filling</span><span class="o">.</span><span class="n">active</span> <span class="n">then</span> <span class="n">true</span> <span class="k">else</span> <span class="n">false</span><span class="p">;</span>
<span class="linenos">3</span> <span class="n">valve_V403</span><span class="o">.</span><span class="n">opening</span> <span class="o">=</span> <span class="k">if</span> <span class="n">bottling</span><span class="o">.</span><span class="n">active</span> <span class="n">then</span> <span class="k">if</span> <span class="n">sin</span><span class="p">(</span><span class="n">volumeFlow_factor</span> <span class="o">*</span> <span class="n">time</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="n">then</span> <span class="mi">1</span> <span class="k">else</span> <span class="mi">0</span> <span class="k">else</span> <span class="mi">0</span><span class="p">;</span>
<span class="linenos">4</span> <span class="n">pump_P401</span><span class="o">.</span><span class="n">N_in</span> <span class="o">=</span> <span class="k">if</span> <span class="n">time</span> <span class="o">&lt;</span> <span class="mi">2</span> <span class="n">then</span> <span class="n">pump_P401_simulator</span> <span class="n">elseif</span> <span class="n">B402_filling</span><span class="o">.</span><span class="n">active</span> <span class="n">then</span> <span class="n">pump_P401_simulator</span> <span class="k">else</span> <span class="mi">0</span><span class="p">;</span>
<span class="linenos">5</span> <span class="n">B402_isEmpty</span><span class="o">.</span><span class="n">condition</span> <span class="o">=</span> <span class="k">if</span> <span class="n">tank_B402</span><span class="o">.</span><span class="n">level</span> <span class="o">&lt;=</span> <span class="n">minVolPercentage</span> <span class="o">*</span> <span class="n">tank_B402</span><span class="o">.</span><span class="n">height</span> <span class="n">then</span> <span class="n">true</span> <span class="k">else</span> <span class="n">false</span><span class="p">;</span>
<span class="linenos">6</span> <span class="n">B401_isFull</span><span class="o">.</span><span class="n">condition</span> <span class="o">=</span> <span class="k">if</span> <span class="n">tank_B401</span><span class="o">.</span><span class="n">level</span> <span class="o">&gt;=</span> <span class="n">maxVolPercentage</span> <span class="o">*</span> <span class="n">tank_B401</span><span class="o">.</span><span class="n">height</span> <span class="n">then</span> <span class="n">true</span> <span class="k">else</span> <span class="n">false</span><span class="p">;</span>
<span class="linenos">7</span> <span class="n">B402_isFull</span><span class="o">.</span><span class="n">condition</span> <span class="o">=</span> <span class="k">if</span> <span class="n">tank_B402</span><span class="o">.</span><span class="n">level</span> <span class="o">&gt;=</span> <span class="n">maxVolPercentage</span> <span class="o">*</span> <span class="n">tank_B402</span><span class="o">.</span><span class="n">height</span> <span class="n">then</span> <span class="n">true</span> <span class="k">else</span> <span class="n">false</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="faults">
<h2>Faults<a class="headerlink" href="#faults" title="Permalink to this headline">¶</a></h2>
<p>Between input tank one and reservoir tank, a leakage, which purges parts of the volume flow into an outer system sink, and a clogging,
which induces constriction of the pipe connection, can be induced.</p>
<p>A continuous leakage of the bottling valve can be induced by changing its closed state into any float bigger than <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
<p>The faults can be induced in the superModel.</p>
</section>
<section id="standard-parametrization">
<h2>Standard parametrization<a class="headerlink" href="#standard-parametrization" title="Permalink to this headline">¶</a></h2>
<p>Within the model pump-speed, tank volume, and pipe diameters can be manually adapted, by double-clicking the components.
Switch times in the state-graph can be changed by double clicking on the transitions.</p>
</section>
</section>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="process_plant.html" class="btn btn-neutral float-right" title="process_plant" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="still_partial.html" class="btn btn-neutral float-left" title="still_partial" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2022, IMB

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>

  
  
    
   

</body>
</html>